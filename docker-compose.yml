version: '3'
services:
  backend:
    network_mode: "bridge"
    build: ./django
    container_name: wagtail_vue_backend
    image: wagtail_vue:backend
    ports:
      - "8000:8000"
    volumes:
      - ./django:/usr/src/app
    command: /bin/bash
    tty: true
    stdin_open: true
  frontend:
    network_mode: "bridge"
    links:
      - backend
    build: ./vue
    container_name: wagtail_vue_frontend
    image: wagtail_vue:frontend
    ports:
      - "8080:8080"
    volumes:
      - ./vue:/usr/src/app
      - /usr/src/app/node_modules
    command: /bin/sh
    tty: true
    stdin_open: true
